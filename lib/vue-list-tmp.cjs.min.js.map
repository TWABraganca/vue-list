{"version":3,"file":"vue-list-tmp.cjs.min.js","sources":["../src/Component.vue","../node_modules/vue-runtime-helpers/dist/normalize-component.js","../node_modules/vue-runtime-helpers/dist/inject-style/browser.js","../src/main.js"],"sourcesContent":["<template>\r\n  <div class=\"vue-list-picker\">\r\n    <v-list dense class=\"list-picker-container list-picker-left\">\r\n      <v-subheader class=\"list-picker-title\" :class=\"getTitleClasses\">\r\n        {{ textSubstr(titleLeft, titleSubstr) }}\r\n      </v-subheader>\r\n      <v-list-item-group\r\n        class=\"list-picker-panel\"\r\n        ref=\"moverright\"\r\n        :style=\"getStyles\"\r\n      >\r\n        <v-list-item\r\n          class=\"list-picker-item\"\r\n          v-for=\"item in unselectedItems\"\r\n          :key=\"item[contentKey]\"\r\n          :class=\"[\r\n            getContentClasses,\r\n            {\r\n              'list-picker-selected': item.isSelected,\r\n              'list-picker-read-only': item.isReadOnly,\r\n            },\r\n          ]\"\r\n          @click=\"selectUnselectItem(item, unselectedItems)\"\r\n          @mousemove=\"selectItem(item, unselectedItems)\"\r\n          @mousedown=\"startDrag\"\r\n        >\r\n          {{ textSubstr(item[contentAttr], contentSubstr) }}\r\n        </v-list-item>\r\n      </v-list-item-group>\r\n    </v-list>\r\n    <div class=\"list-picker-actions\">\r\n      <v-btn @click=\"moveAllRight\" :class=\"buttonClass\" icon>\r\n        <v-icon v-if=\"!$slots.moveAllRight\">last_page</v-icon>\r\n        <slot name=\"moveAllRight\" />\r\n      </v-btn>\r\n      <v-btn @click=\"moveRight\" class=\"mb-25\" :class=\"buttonClass\" icon>\r\n        <v-icon v-if=\"!$slots.moveRight\">chevron_right</v-icon>\r\n        <slot name=\"moveRight\" />\r\n      </v-btn>\r\n      <v-btn @click=\"moveLeft\" :class=\"buttonClass\" icon>\r\n        <v-icon v-if=\"!$slots.moveLeft\">chevron_left</v-icon>\r\n        <slot name=\"moveLeft\" />\r\n      </v-btn>\r\n      <v-btn @click=\"moveAllLeft\" class=\"mb-25\" :class=\"buttonClass\" icon>\r\n        <v-icon v-if=\"!$slots.moveAllLeft\">first_page</v-icon>\r\n        <slot name=\"moveAllLeft\" />\r\n      </v-btn>\r\n\r\n      <v-btn @click=\"unselectAll\" :class=\"buttonClass\" icon>\r\n        <v-icon v-if=\"!$slots.unselectAll\">close</v-icon>\r\n        <slot name=\"unselectAll\" />\r\n      </v-btn>\r\n    </div>\r\n    <v-list dense class=\"list-picker-container list-picker-right\">\r\n      <v-subheader class=\"list-picker-title\" :class=\"getTitleClasses\">\r\n        {{ textSubstr(titleRight, titleSubstr) }}\r\n      </v-subheader>\r\n      <v-list-item-group\r\n        class=\"list-picker-panel\"\r\n        ref=\"moverright\"\r\n        :style=\"getStyles\"\r\n      >\r\n        <v-list-item\r\n          class=\"list-picker-item\"\r\n          v-for=\"item in selectedItems\"\r\n          :key=\"item[contentKey]\"\r\n          :class=\"[\r\n            getContentClasses,\r\n            {\r\n              'list-picker-selected': item.isSelected,\r\n              'list-picker-read-only': item.isReadOnly,\r\n            },\r\n          ]\"\r\n          @click=\"selectUnselectItem(item, selectedItems)\"\r\n          @mousemove=\"selectItem(item, selectedItems)\"\r\n          @mousedown=\"startDrag\"\r\n        >\r\n          {{ textSubstr(item[contentAttr], contentSubstr) }}\r\n        </v-list-item>\r\n      </v-list-item-group>\r\n    </v-list>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  VList,\r\n  VListItemGroup,\r\n  VListItem,\r\n  VSubheader,\r\n  VBtn,\r\n  VIcon,\r\n} from 'vuetify/lib'\r\n\r\nexport default {\r\n  name: 'VueList',\r\n  components: {\r\n    VList,\r\n    VListItemGroup,\r\n    VListItem,\r\n    VSubheader,\r\n    VBtn,\r\n    VIcon,\r\n  },\r\n  props: {\r\n    leftItems: {\r\n      type: Array,\r\n      required: true,\r\n    },\r\n    rightItems: {\r\n      type: Array,\r\n      required: true,\r\n    },\r\n    movedItemLocation: {\r\n      type: String,\r\n      default: 'top',\r\n    },\r\n    titleLeft: {\r\n      type: String,\r\n      default: 'Items available',\r\n    },\r\n    titleRight: {\r\n      type: String,\r\n      default: 'Items selected',\r\n    },\r\n    titleCentered: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    titleClass: {\r\n      type: String,\r\n      default: '',\r\n    },\r\n    titleSubstr: {\r\n      type: Number,\r\n      default: 20,\r\n    },\r\n    buttonClass: {\r\n      type: String,\r\n      default: '',\r\n    },\r\n    contentKey: {\r\n      type: String,\r\n      default: 'key',\r\n    },\r\n    contentAttr: {\r\n      type: String,\r\n      default: 'content',\r\n    },\r\n    contentCentered: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    contentClass: {\r\n      type: String,\r\n      default: '',\r\n    },\r\n    contentSubstr: {\r\n      type: Number,\r\n      default: 23,\r\n    },\r\n    minHeight: {\r\n      type: String,\r\n      default: '450px',\r\n    },\r\n    height: {\r\n      type: String,\r\n      default: '',\r\n    },\r\n    minWidth: {\r\n      type: String,\r\n      default: '220px',\r\n    },\r\n    width: {\r\n      type: String,\r\n      default: '',\r\n    },\r\n  },\r\n  data: () => ({\r\n    loading: false,\r\n    dragging: false,\r\n    lastMovedItem: null,\r\n  }),\r\n  computed: {\r\n    unselectedItems: {\r\n      get() {\r\n        return this.leftItems\r\n      },\r\n      set(val) {\r\n        this.$emit('leftItems:update', val)\r\n      },\r\n    },\r\n    selectedItems: {\r\n      get() {\r\n        return this.rightItems\r\n      },\r\n      set(val) {\r\n        this.$emit('rightItems:update', val)\r\n      },\r\n    },\r\n    getTitleClasses() {\r\n      const { titleClass, titleCentered } = this\r\n\r\n      return titleClass || { 'text-center': titleCentered }\r\n    },\r\n    getContentClasses() {\r\n      const { contentClass, contentCentered } = this\r\n\r\n      return contentClass || { 'text-center': contentCentered }\r\n    },\r\n    getStyles() {\r\n      const { height, minHeight, minWidth, width } = this\r\n\r\n      return {\r\n        height,\r\n        minHeight,\r\n        minWidth,\r\n        width,\r\n      }\r\n    },\r\n  },\r\n  created() {\r\n    this.unselectedItems =\r\n      this.unselectedItems && this.unselectedItems.length\r\n        ? this.unselectedItems.map((it) => ({ ...it, isSelected: false }))\r\n        : []\r\n    this.selectedItems =\r\n      this.selectedItems && this.selectedItems.length\r\n        ? this.selectedItems.map((it) => ({ ...it, isSelected: false }))\r\n        : []\r\n  },\r\n  mounted() {\r\n    document.addEventListener('mouseup', this.stopDrag)\r\n  },\r\n  beforeDestroy() {\r\n    document.removeEventListener('mouseup', this.stopDrag)\r\n  },\r\n  methods: {\r\n    textSubstr(value, qtd = 250, mask = '...') {\r\n      return value && value.length > qtd\r\n        ? `${value.substring(0, qtd)}${mask}`\r\n        : value\r\n    },\r\n    startDrag() {\r\n      this.dragging = true\r\n    },\r\n    stopDrag() {\r\n      this.dragging = false\r\n    },\r\n    selectUnselectItem(item, items) {\r\n      this.setItem(item, items, !item.isSelected)\r\n    },\r\n    setItem(item, items, val) {\r\n      let itemBase = item\r\n\r\n      if (items && items.length && !itemBase) {\r\n        itemBase = items[0]\r\n      }\r\n\r\n      if (!itemBase || itemBase.isReadOnly) return\r\n\r\n      itemBase.isSelected = val\r\n      this.$forceUpdate()\r\n    },\r\n    selectItem(item, items) {\r\n      if (this.dragging) {\r\n        const VALUE_IS_SET_TO_TRUE = true\r\n        this.setItem(item, items, VALUE_IS_SET_TO_TRUE)\r\n      }\r\n    },\r\n    moveRight() {\r\n      this.moveOne(\r\n        this.unselectedItems,\r\n        this.selectedItems,\r\n        'moverleft',\r\n        'move-right'\r\n      )\r\n    },\r\n    moveLeft() {\r\n      this.moveOne(\r\n        this.selectedItems,\r\n        this.unselectedItems,\r\n        'moverright',\r\n        'move-left'\r\n      )\r\n    },\r\n    unselect(items) {\r\n      if (!items.length) return\r\n\r\n      items.forEach((it) => {\r\n        it.isSelected = false\r\n      })\r\n      this.$forceUpdate()\r\n    },\r\n    unselectAll() {\r\n      this.unselect(this.unselectedItems)\r\n      this.unselect(this.selectedItems)\r\n      this.$emit('unselect-all')\r\n    },\r\n    moveOne(firstArray, secondArray, refsName, event) {\r\n      const items = firstArray.filter((it) => it.isSelected && !it.isReadOnly)\r\n      if (!items || !items.length) return\r\n\r\n      for (let item of items) {\r\n        const idx = firstArray.findIndex(\r\n          (it) => it[this.contentKey] === item[this.contentKey]\r\n        )\r\n\r\n        firstArray.splice(idx, 1)\r\n        this.$emit(event, item)\r\n\r\n        if (this.movedItemLocation === 'top') {\r\n          secondArray.unshift(item)\r\n          this.$refs[refsName].scrollTop = 0\r\n        } else {\r\n          secondArray.push(item)\r\n        }\r\n      }\r\n\r\n      this.unselectAll()\r\n    },\r\n    moveAllRight() {\r\n      this.moveAll(this.unselectedItems, this.selectedItems)\r\n      this.$emit('move-all-right', this.selectedItems)\r\n    },\r\n    moveAllLeft() {\r\n      this.moveAll(this.selectedItems, this.unselectedItems)\r\n      this.$emit('move-all-left', this.unselectedItems)\r\n    },\r\n    moveAll(firstArray, secondArray) {\r\n      let tmp = Array.from(firstArray)\r\n      for (let item of tmp) {\r\n        if (!item.isReadOnly) {\r\n          const idx = firstArray.findIndex(\r\n            (it) => it[this.contentKey] === item[this.contentKey]\r\n          )\r\n          firstArray.splice(idx, 1)\r\n          secondArray.push(item)\r\n        }\r\n      }\r\n\r\n      this.unselectAll()\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.vue-list-picker {\r\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\r\n    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\r\n    sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  text-rendering: optimizeLegibility;\r\n  display: flex;\r\n  flex-flow: row nowrap;\r\n  cursor: default;\r\n}\r\n.vue-list-picker .list-picker-container {\r\n  padding: 0;\r\n  flex: 1 1 auto;\r\n  border: 1px solid #ddd;\r\n  background: #f9f9f9;\r\n  border-radius: 3px;\r\n  overflow: auto;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n.vue-list-picker .list-picker-panel {\r\n  min-height: 400px;\r\n  overflow-y: auto;\r\n}\r\n.vue-list-picker .list-picker-item::selection {\r\n  background: unset;\r\n}\r\n.vue-list-picker .list-picker-actions {\r\n  flex: 0 0 auto;\r\n  align-self: center;\r\n  padding: 0 15px;\r\n}\r\n.vue-list-picker .list-picker-actions > button {\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n.vue-list-picker .list-picker-item,\r\n.vue-list-picker .list-picker-selected,\r\n.vue-list-picker .list-picker-title {\r\n  border-bottom: 1px solid #ccc;\r\n}\r\n.vue-list-picker .list-picker-title {\r\n  padding: 8px 10px;\r\n  background: #fafafa;\r\n  color: #1565c0;\r\n  font-size: 1.1em;\r\n  font-weight: 600;\r\n  justify-content: center;\r\n}\r\n.vue-list-picker .list-picker-selected {\r\n  background: #1565c0;\r\n  color: #f0f0f0 !important;\r\n  font-weight: 600;\r\n}\r\n.vue-list-picker .list-picker-read-only {\r\n  background: #f0f0f0;\r\n  color: grey !important;\r\n  font-weight: 600;\r\n}\r\n.vue-list-picker .mb-25 {\r\n  margin-bottom: 25px;\r\n}\r\n.vue-list-picker .text-center {\r\n  text-align: center;\r\n}\r\n</style>\r\n","'use strict';\n\nfunction normalizeComponent(template, style, script, scopeId, isFunctionalTemplate, moduleIdentifier\n/* server only */\n, shadowMode, createInjector, createInjectorSSR, createInjectorShadow) {\n  if (typeof shadowMode !== 'boolean') {\n    createInjectorSSR = createInjector;\n    createInjector = shadowMode;\n    shadowMode = false;\n  } // Vue.extend constructor export interop.\n\n\n  var options = typeof script === 'function' ? script.options : script; // render functions\n\n  if (template && template.render) {\n    options.render = template.render;\n    options.staticRenderFns = template.staticRenderFns;\n    options._compiled = true; // functional template\n\n    if (isFunctionalTemplate) {\n      options.functional = true;\n    }\n  } // scopedId\n\n\n  if (scopeId) {\n    options._scopeId = scopeId;\n  }\n\n  var hook;\n\n  if (moduleIdentifier) {\n    // server build\n    hook = function hook(context) {\n      // 2.3 injection\n      context = context || // cached call\n      this.$vnode && this.$vnode.ssrContext || // stateful\n      this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext; // functional\n      // 2.2 with runInNewContext: true\n\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__;\n      } // inject component styles\n\n\n      if (style) {\n        style.call(this, createInjectorSSR(context));\n      } // register component module identifier for async chunk inference\n\n\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier);\n      }\n    }; // used by ssr in case component is cached and beforeCreate\n    // never gets called\n\n\n    options._ssrRegister = hook;\n  } else if (style) {\n    hook = shadowMode ? function () {\n      style.call(this, createInjectorShadow(this.$root.$options.shadowRoot));\n    } : function (context) {\n      style.call(this, createInjector(context));\n    };\n  }\n\n  if (hook) {\n    if (options.functional) {\n      // register for functional component in vue file\n      var originalRender = options.render;\n\n      options.render = function renderWithStyleInjection(h, context) {\n        hook.call(context);\n        return originalRender(h, context);\n      };\n    } else {\n      // inject component registration as beforeCreate hook\n      var existing = options.beforeCreate;\n      options.beforeCreate = existing ? [].concat(existing, hook) : [hook];\n    }\n  }\n\n  return script;\n}\n\nmodule.exports = normalizeComponent;\n//# sourceMappingURL=normalize-component.js.map\n","'use strict';\n\nvar isOldIE = typeof navigator !== 'undefined' && /msie [6-9]\\\\b/.test(navigator.userAgent.toLowerCase());\nfunction createInjector(context) {\n  return function (id, style) {\n    return addStyle(id, style);\n  };\n}\nvar HEAD = document.head || document.getElementsByTagName('head')[0];\nvar styles = {};\n\nfunction addStyle(id, css) {\n  var group = isOldIE ? css.media || 'default' : id;\n  var style = styles[group] || (styles[group] = {\n    ids: new Set(),\n    styles: []\n  });\n\n  if (!style.ids.has(id)) {\n    style.ids.add(id);\n    var code = css.source;\n\n    if (css.map) {\n      // https://developer.chrome.com/devtools/docs/javascript-debugging\n      // this makes source maps inside style tags work properly in Chrome\n      code += '\\n/*# sourceURL=' + css.map.sources[0] + ' */'; // http://stackoverflow.com/a/26603875\n\n      code += '\\n/*# sourceMappingURL=data:application/json;base64,' + btoa(unescape(encodeURIComponent(JSON.stringify(css.map)))) + ' */';\n    }\n\n    if (!style.element) {\n      style.element = document.createElement('style');\n      style.element.type = 'text/css';\n      if (css.media) style.element.setAttribute('media', css.media);\n      HEAD.appendChild(style.element);\n    }\n\n    if ('styleSheet' in style.element) {\n      style.styles.push(code);\n      style.element.styleSheet.cssText = style.styles.filter(Boolean).join('\\n');\n    } else {\n      var index = style.ids.size - 1;\n      var textNode = document.createTextNode(code);\n      var nodes = style.element.childNodes;\n      if (nodes[index]) style.element.removeChild(nodes[index]);\n      if (nodes.length) style.element.insertBefore(textNode, nodes[index]);else style.element.appendChild(textNode);\n    }\n  }\n}\n\nmodule.exports = createInjector;\n//# sourceMappingURL=browser.js.map\n","import Component from './Component.vue'\r\nexport default (Vue) => Vue.component(Component.name, Component)\r\n"],"names":["normalizeComponent","template","style","script","scopeId","isFunctionalTemplate","moduleIdentifier","shadowMode","createInjector","createInjectorSSR","createInjectorShadow","hook","options","render","staticRenderFns","_compiled","functional","_scopeId","context","this","$vnode","ssrContext","parent","__VUE_SSR_CONTEXT__","call","_registeredComponents","add","_ssrRegister","$root","$options","shadowRoot","originalRender","h","existing","beforeCreate","concat","isOldIE","navigator","test","userAgent","toLowerCase","id","addStyle","HEAD","document","head","getElementsByTagName","styles","css","group","media","ids","Set","has","code","source","map","sources","btoa","unescape","encodeURIComponent","JSON","stringify","element","createElement","type","setAttribute","appendChild","push","styleSheet","cssText","filter","Boolean","join","index","size","textNode","createTextNode","nodes","childNodes","removeChild","length","insertBefore","Vue","component","Component","name"],"mappings":"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"}